<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" th:href="@{/user/css/DashboardStyle.css}">
    <title>Dashboard</title>
</head>
<body>
    
    <div class="body">
        <!-- Header -->
        <th:block class="header" th:include="~{user/Header :: headerUser}"></th:block>
        
        <main class="mainDashboard">
            <div class="leftside1">
                <div class="leftside-group">
                    <img src="/user/assets/DashboardPage/userIcon.svg" alt="">
                    <span th:text="${username}">Nama</span>
                    <hr>
                    <div class="followList">
                        <div class="countFollow">
                            <label for="">0</label>
                            <label for="">0</label>
                            <label for="">0</label>
                        </div>
                        <div class="labelFollow">
                            <label for="">Follower</label>
                            <label for="">Following</label>
                            <label for="">Activities</label>
                        </div>
                    </div>
                    <hr>
                    
                </div>
            </div>
            <div class="leftside2">
                <div class="kmPerWeek">
                    <label for="">This Week</label>
                    <span th:text="${weekTotalDistance} + ' m'"></span>
                </div>
                <hr>
                <div class="weekCalender">
                    <img src="/user/assets/DashboardPage/calenderIcon.svg" alt="">
                    <button onclick="updateDay('MON')">M</button>
                    <button onclick="updateDay('TUE')">T</button>
                    <button onclick="updateDay('WED')">W</button>
                    <button onclick="updateDay('THU')">T</button>
                    <button onclick="updateDay('FRI')">F</button>
                    <button onclick="updateDay('SAT')">S</button>
                    <button onclick="updateDay('SUN')">S</button>
                </div>
                <div class="today">
                    <p id="selectedDay">Monday</p>
                    <p id="distance">0 m</p>
                </div>
            </div>
            <div class="middle">
                <div class="img-middle">
                    <img src="/user/assets/DashboardPage/imgDP.svg" alt="">
                </div>
                <div class="paraf1">
                    <label for="">Getting Started</label>
                    <label for="">Weâ€™ve listed a couple of steps to help you get set up on SportSync.</label>
                </div>
                <hr>
                <div class="paraf2">
                    <img src="/user/assets/DashboardPage/middleDashboardIcon.svg" alt="">           
                    <div class="labelParaf2">
                        <label for="">See what your friends are doing</label>
                        <label for="">Find your friends on SportSync or invite them to join you. Cheer them on, discover new workouts and start training with the athletes you already know.</label>
                        <button type="button">Find Friend</button>
                    </div>     
                </div>
                <hr>
            </div>
            <div class="rightside">
                
            </div>
        </main>
    </div>
    
    <script>
        const weekData = /*[[${weekChartData}]]*/ [];
        const dayMap = {
            'MON': 'Monday',
            'TUE': 'Tuesday',
            'WED': 'Wednesday',
            'THU': 'Thursday',
            'FRI': 'Friday',
            'SAT': 'Saturday',
            'SUN': 'Sunday'
        };
        function updateDay(dayCode) {
            // Update nama hari yang dipilih
            document.getElementById("selectedDay").innerText = dayMap[dayCode];
            
            
            // Cari data m dari weekChartData
            const data = weekData.find(data => data.hari === dayCode);
            
            // Update jarak
            if (data) {
                document.getElementById("distance").innerText = data.totalJarakTempuh + " m";
            } else {
                document.getElementById("distance").innerText = "0 m";
            }
        }
    </script>
</body>
</html>